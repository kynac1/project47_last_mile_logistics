"0","# build stats data"
"0","data1 <- data %>%"
"0","  select(day, collection_capacity, number_of_packages, number_of_vehicles, collection_dist)"
"0",""
"0","# compute daily distance and time"
"0","data1$distance <- unlist(data$distances %>% map(~sum(.x)))"
"0","data1$time <- unlist(data$times %>% map(~sum(.x)))"
"0","# days"
"0","data1$delivered_package_days_taken <- unlist(data$delivered_packages.days_taken %>% map(~sum(.x)))"
"0","data1$undelivered_package_days_taken <- unlist(data$undelivered_packages.days_taken %>% map(~sum(.x)))"
"0","# packages"
"0","data1$number_of_collection_packages <- unlist(data$collection_point_packages %>% map(~sum(.x))) "
"0","data1$number_of_undelivered_packages <- unlist(data$undelivered_packages.days_taken %>% map(~length(.x))) # calculate the number of "
"0","data1$number_of_delivered_packages <- unlist(data$delivered_packages.days_taken %>% map(~length(.x))) # calculate the number of delivered packages every day"
"0","data1$travel_dist_per_customer <- data$collection_dist/data1$number_of_collection_packages"
"0","data1$travel_dist_per_customer[!is.finite(data1$travel_dist_per_customer)]<-0"
"0",""
"0","data1$number_of_collection_packages <- unlist(data$collection_point_removed_packages %>% map(~sum(.x)))"
"0","data1 <- data1 %>%"
"0","  group_by(collection_capacity) %>%"
"0","  mutate(packages = lead(number_of_packages) - number_of_undelivered_packages) # compute packages"
